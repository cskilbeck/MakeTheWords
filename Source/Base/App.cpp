//////////////////////////////////////////////////////////////////////

#include "pch.h"

//////////////////////////////////////////////////////////////////////

Font *			g_DebugFont;
SpriteList *	g_DebugSpriteList;

double			g_DeltaTime;
double			g_Time;

list<RefCount *>RefCount::allRefCountedObjects;

//////////////////////////////////////////////////////////////////////

App *g_App = null;	// this will get initialized into the BSS and will therefore be null before the 1st App constructor is called

//////////////////////////////////////////////////////////////////////

App::App()
{
	assert(g_App == null);	// so this is valid
	g_App = this;
}

//////////////////////////////////////////////////////////////////////

void App::Update()
{
	//DBG(0, 0, "Delta:%7.2fms", g_DeltaTime * 1000);
	//DBG(0, 15, "Time: %7.2fs", g_Time);
	Component::UpdateAll();
}

//////////////////////////////////////////////////////////////////////

void App::Draw()
{
	Component::DrawAll();
}

App::~App()
{
	RefCount::ShowLeaks();
}